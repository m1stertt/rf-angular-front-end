<div class="products-list">
  <h2>My products <button *ngIf="showWriteProducts" (click)="create()">Create new</button></h2>
  <table mat-table [dataSource]="products" class="mat-elevation-z8">

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>Product ID </th>
      <td mat-cell *matCellDef="let product"> {{product.id}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Product Name </th>
      <td mat-cell *matCellDef="let product"> {{product.name}} </td>
    </ng-container>
    <!-- Name Column -->
    <ng-container matColumnDef="test">
      <th mat-header-cell *matHeaderCellDef> Actions</th>
      <td mat-cell *matCellDef="let product"> <mat-icon *ngIf="showWriteProducts" matListIcon routerLink="{{product.id}}">edit</mat-icon><mat-icon matListIcon *ngIf="showWriteProducts" (click)="delete(product)">delete</mat-icon> </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['id','name','test']"></tr>
    <tr mat-row (click)="clickedProduct = row" *matRowDef="let row; columns: ['id','name','test'];"></tr>
  </table>

  <div *ngIf="clickedProduct!=undefined">
    {{clickedProduct.id}} {{clickedProduct.name}}
  </div>
</div>
